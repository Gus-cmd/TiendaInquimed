<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Producto – INQUIMED</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#022b26" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="css/styles.css" />

  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
</head>
<body>

  <!-- NAV -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark-quim sticky-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="index.html#inicio">
        <img src="assets/logo-inquimed.png" alt="Logo de INQUIMED" height="40" class="me-2">
        <span class="fw-bold">INQUIMED</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html#catalogo">Productos</a></li>
          <li class="nav-item"><a class="nav-link" href="servicios.html">Servicios</a></li>
          <li class="nav-item"><a class="nav-link" href="legal.html">Legal</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="py-5">
    <section class="container">

      <!-- Migas (breadcrumb) -->
      <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb small">
          <li class="breadcrumb-item"><a href="index.html">Inicio</a></li>
          <li class="breadcrumb-item"><a href="index.html#catalogo">Catálogo</a></li>
          <li id="breadcrumb-product" class="breadcrumb-item active"></li>
        </ol>
      </nav>

      <div id="productContainer" class="row g-4">
        <!-- Aquí se carga el producto -->
      </div>

    </section>
  </main>

  <!-- FOOTER -->
  <footer class="py-5 bg-dark-quim text-white mt-auto">
    <div class="container">
      <div class="row gy-4">
        <div class="col-md-4">
          <h5 class="fw-bold">Contáctanos</h5>
          <p class="small mb-2">Consultas y cotizaciones:</p>
          <p class="small"><strong>correo@inquimed.com</strong></p>
        </div>

        <div class="col-md-4">
          <h6 class="fw-bold">Redes sociales</h6>
          <div class="d-flex gap-3">
            <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-tiktok"></i></a>
            <a href="https://wa.me/51900000000" class="social-icon"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>

        <div class="col-md-4 text-md-end">
          <h6 class="fw-bold">INQUIMED</h6>
          <p class="small mb-0">© 2025 Soluciones Químicas Integrales</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Obtener ID de la URL
    const params = new URLSearchParams(window.location.search);
    const productId = params.get("id");

    const container = document.getElementById("productContainer");
    const breadcrumb = document.getElementById("breadcrumb-product");

    fetch("data/products.json")
      .then(res => res.json())
      .then(data => {
        const product = data.products.find(p => p.id === productId);

        if (!product) {
          container.innerHTML = `
            <div class="col-12 text-center py-5">
              <h3 class="fw-bold">Producto no encontrado</h3>
              <p class="text-muted">Es posible que el producto haya sido removido o cambiado.</p>
              <a href="index.html#catalogo" class="btn btn-quim">Volver al catálogo</a>
            </div>
          `;
          return;
        }

        breadcrumb.textContent = product.name;

        container.innerHTML = `
          <div class="col-md-5">
            <div class="card product-card p-3">
              <img src="${product.image || 'assets/product-placeholder.png'}" 
                   class="product-img mb-3" 
                   alt="${product.name}">
              <span class="product-pill">${product.category}</span>
            </div>
          </div>

          <div class="col-md-7">
            <h1 class="h3 fw-bold">${product.name}</h1>
            ${product.formula ? `<p class="product-formula">${product.formula}</p>` : ""}

            <p class="small text-muted mb-3">${product.description}</p>

            <table class="table table-sm small">
              <tbody>
                <tr><th>Categoría</th><td>${product.category}</td></tr>
                <tr><th>Grado</th><td>${product.grade || "-"}</td></tr>
                <tr><th>Presentación</th><td>${product.presentation || "-"}</td></tr>
                <tr><th>Peligro</th><td>${product.hazard || "-"}</td></tr>
              </tbody>
            </table>

            <div class="d-flex gap-2 mt-3">
              <a href="index.html#catalogo" class="btn btn-outline-secondary btn-sm">
                <i class="fa-solid fa-arrow-left"></i> Volver al catálogo
              </a>

              <a href="mailto:correo@inquimed.com?subject=Cotización%20${encodeURIComponent(product.name)}"
                 class="btn btn-quim btn-sm">
                Solicitar cotización
              </a>
            </div>
          </div>
        `;
      });
  </script>
</body>
</html>
